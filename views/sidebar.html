{{define "sidebar"}}
{{$active := .Active}}
<aside id="sidebar">
  <div class="sidebar-block">
    <h5><i class="glyphicon glyphicon-pencil indent"></i>{{T "recent_posts"}}</h5>
    <ul class="nav nav-pills nav-stacked">
      {{range recentPosts}}
      <li class="{{isActive $active (printf "posts/%d" .ID)}}">
        <a href="/posts/{{.ID}}">{{.Name}}</a>
      </li>
      {{end}}
    </ul>
  </div>
  <div class="sidebar-block">
    {{template "search/searchbox" .}}
  </div>
  <div class="sidebar-block">
    <h5><i class="glyphicon glyphicon-tags indent"></i>{{T "tags"}}</h5>
    <div class="sidebar-tags">
      {{range tags}}
        <a class="label label-success" href="/tags/{{.Name}}">{{.Name}}</a>
      {{end}}
    </div>
  </div>
  <div class="sidebar-block">
    <h5><i class="glyphicon glyphicon-menu-hamburger indent"></i>{{T "archives"}}</h5>
    <ul class="nav nav-pills nav-stacked">
      {{range archives}}
      <li class="{{isActive $active (printf "archives/%d-%02d" .CreatedAt.Year .CreatedAt.Month)}}">
        <a href="/archives/{{printf "%d-%02d" .CreatedAt.Year .CreatedAt.Month}}">
          <i class="glyphicon glyphicon-chevron-right indent"></i>
          {{printf "%s %d" (T .CreatedAt.Month.String) .CreatedAt.Year}}
        </a>
      </li>
      {{end}}
    </ul>
  </div>
</aside>
{{end}}
